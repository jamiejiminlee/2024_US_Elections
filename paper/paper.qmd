---
title: "Forecasting the 2024 Election: Trump Dominates the South, Harris Leads in the Midwest"
author: 
  - Jimin Lee
  - Sarah Ding
  - Xiyan Chen
thanks: "Code and data are available at: [https://github.com/jamiejiminlee/2024_US_Elections.git](https://github.com/jamiejiminlee/2024_US_Elections.git)."
date: today
date-format: long
abstract: "This paper presents a predictive model for the 2024 United States Presidential Election using state-level polling data. By aggregating high-quality polls, we predict the likely winner between Donald Trump and Kamala Harris in each state. A logistic regression model estimates the probability of Trump winning, with polling percentages as predictor variables. The model’s results highlight key battleground states and offer insights into voter dynamics, while also reflecting on the limitations of polling data in forecasting political outcomes."
format: pdf
number-sections: true
bibliography: references.bib
---


```{r}
#| include: false
#| warning: false
#| message: false

library(tidyverse)
library(janitor)
library(lubridate)
library(modelsummary)
library(rstanarm)
library(readr)
library(dplyr)
library(ggplot2)
library(usmap)
```

# Introduction

This paper develops a predictive model for the 2024 US Presidential Election using state-level polling data to forecast the likely winner between Donald Trump and Kamala Harris. We aggregate high-quality poll data to create a logistic regression model that estimates the probability of a Trump or Harris victory in each state. By comparing polling percentages for both candidates, we aim to predict election outcomes based on voter support patterns across the states.

The estimand in this study is the probability that Donald Trump or Kamala Harris wins a given state, based on aggregated state-level polling averages. The binary outcome variable in our model indicates whether Trump (1) or Harris (0) is predicted to win in each state, and the predictor variables are the average polling percentages for each candidate.

Our model utilizes the Bayesian logistic regression model to predict election outcomes by comparing the average polling percentages for Trump and Harris in each state. The results highlight the geographic distribution of support, with some states clearly favoring one candidate over the other. Swing states emerge as critical battlegrounds, where polling percentages are closely contested and could influence the final election result.

Accurate election predictions provide valuable insights into voter dynamics and help political analysts, campaigns, and the public anticipate electoral outcomes. By focusing on high-quality polling data, our model improves the reliability of predictions and highlights key regions where voter sentiment may shift, ultimately affecting the election.

The remainder of this paper is structured as follows. In Section 2, we describe the data and variables used in the analysis. Section 3 outlines the model setup and estimation strategy. Section 4 presents the results, including the predicted election outcomes and visualizations. Finally, Section 5 discusses the implications and limitations of our findings.

# Data {#sec-data}

## Overview

We use the statistical programming language R [@citeR] to perform data cleaning and analysis using the datasets we obtained from the Project 538 online database [@FiveThirtyEight]. The database provides a wealth of information on the current cycle of presidential general election polls. It consists of the polling results from various pollsters such as the New York Times, ActiVote, Morning Consult, etc. Information about the transparency of methodology as well as the quality of the data is present as well, denoted as transparency score and numeric grades, which are significant to our data cleaning process to ensure the quality of data. Polling results are specific to different states in the US, mostly focusing on the six battleground states that are the likeliest to determine the outcome of the elections. Thus, we chose to use states, candidate names, and percentage of support to perform statistical analysis and gather our results. 

## Measurement

The measurement of voter support in the dataset is derived from raw polling data obtained from the Project 538 online database, which serves as a representation of potential election results for the 2024 U.S. Presidential Election. Each entry in the dataset corresponds to a poll conducted by each pollster, capturing the percentage of respondents who express support for Donald Trump or Kamala Harris. Each pollster has their approach of sampling respondents as well as their methodology of approaching respondents, which affects each pollster’s numeric grades and transparency scores.  Therefore, to ensure the quality of the data, only polls from reputable pollsters with a numeric grade of 3 or higher and transparency scores above 6 were used for our paper. These polls measure voter preferences through structured survey questions, and the results are aggregated to create state-level averages for each candidate. The dataset thus transforms general voter sentiment into individual data points that reflect the competitive dynamics between Trump and Harris across different states. 


## Outcome variables

The outcome variable in our analysis is the binary variable winner, which represents the predicted winner of the 2024 US Presidential Election in each state. The value of winner is set to 1 if Donald Trump is predicted to win the state, and 0 if Kamala Harris is predicted to win. This binary outcome is determined by comparing the polling support for both candidates within each state. By setting up this binary variable, we aim to forecast which candidate will secure more votes in each state based on the aggregated polling data.

@fig-averagetable provides an overview of the average support for Trump and Harris across all states, along with the predicted winner for each state based on our model. 

```{r}
#| label: fig-averagetable
#| fig-cap: Summary Table of Polling Averages by State
#| echo: false
#| warning: false
#| message: false

# Load cleaned data
clean_poll_data <- read_csv("/Users/jamielee/2024_US_Elections/data/02-analysis_data/analysis_data.csv")

# Aggregating polling percentages for Trump and Harris by state
state_average <- clean_poll_data %>%
  group_by(state) %>%
  summarise(
    Trump_pct = mean(pct[candidate_name == "Donald Trump"], na.rm = TRUE),
    Harris_pct = mean(pct[candidate_name == "Kamala Harris"], na.rm = TRUE)
  )

# Create winner column: 1 if Trump_pct is greater than Harris_pct, 0 otherwise
state_average <- state_average |>
  mutate(winner = ifelse(Trump_pct > Harris_pct, 1, 0))

average_table <- state_average |>
  select(state, Trump_pct, Harris_pct, winner) |>
  mutate(predicted_winner = ifelse(winner == 1, "Trump", "Harris"))

# Render the simplest possible table
knitr::kable(average_table)

```

## Predictor variables

The predictor variables used in the model are the aggregated polling percentages for Donald Trump (Trump_pct) and Kamala Harris (Harris_pct). These variables are calculated as the average support for each candidate, using polling data filtered to include only high-quality pollsters with a numeric grade of 3 or higher and transparency scores above 6. These averages reflect the level of support for each candidate across all polls in each state. 

To further illustrate the distribution of support, a side-by-side bar graph is provided, comparing the average polling percentages for both candidates across all states. @fig-barplot offers a clear comparison of the support levels, helping to visualize the competitive dynamics within each state. The side-by-side comparison represents the percentage of support each candidate has received, based on aggregated poll data from pollsters with high-quality scores. Trump's support is shown in red, while Harris's support is depicted in red. 


```{r}
#| label: fig-barplot
#| fig-cap: Average Poll Percentage by State
#| echo: false
#| warning: false

# Reshape data to a long format for side-by-side bars
stateaverage_long <- state_average %>%
  pivot_longer(cols = c(Trump_pct, Harris_pct),
               names_to = "candidate",
               values_to = "support_pct")

ggplot(stateaverage_long, aes(x=reorder(state, -support_pct), y= support_pct, fill = candidate)) + 
  geom_bar(stat = "identity", position = position_dodge(width = 0.8), color = "black") +
  labs(x = "State", y = "Average Percentage") +
  scale_fill_manual(name = "Candidate", values = c("Trump_pct" = "red", "Harris_pct" = "blue")) +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 90, hjust = 1))
```
The comparison shows significant variability in support for each candidate. In some states like **Montana** and **Missouri**, Trump’s support is notably higher, with a clear margin over Harris. In contrast, **Colorado** stands out as having nearly equal polling support for both candidates, suggesting a closely contested race in that state. Swing states such as **Florida**, **North Carolina**, and **Pennsylvania** exhibit relatively close polling percentages, indicating that the election outcomes in these states could be pivotal and difficult to predict. The plot also includes states like **Virginia** and **Texas**, where the support levels are more balanced, though Trump seems to hold a slight lead. The state labeled as **NA** at the end may indicate missing or incomplete data, emphasizing the need for comprehensive polling coverage in all states for more reliable predictions.

# Model {#sec-model}

The goal of our modeling strategy is to predict the winner of the 2024 US Presidential Election in each state based on polling data, while also assessing the likelihood of Donald Trump or Kamala Harris winning. We employ a Bayesian logistic regression model, which allows for probabilistic predictions of binary outcomes, making it well-suited for the task of predicting election results. Background details and diagnostics are included in [Appendix -@sec-model-details].

## Model set-up

The binary outcome variable $y_i$ is defined as 1 if Donald Trump is predicted to win state $i$, and 0 if Kamala Harris is predicted to win. The predictor variables are $\beta_i$, which represents the average percentage of polling support for Donald Trump in state $i$, and $\gamma_i$, the average percentage of support for Kamala Harris in state $i$. The relationship between these variables and the outcome is captured through a logistic link function.

\begin{align*}
y_i | \mu_i &\sim \text{Bernoulli}(\mu_i) \\
\mu_i &= \alpha + \beta_i + \gamma_i \\
\alpha &\sim \text{Normal}(0, 2.5) \\
\beta_i &\sim \text{Normal}(0, 2.5) \\
\gamma_i &\sim \text{Normal}(0, 2.5)
\end{align*}

We use weakly informative Normal priors for the intercept ($\alpha_i$) and the coefficients ($\beta_i$) and $\gamma_i$), centered around zero with a standard deviation of 2.5. These priors were chosen to reflect the assumption that, before seeing the data, there is no strong reason to favor one candidate over the other across states, but to allow room for the data to adjust predictions as polling percentages differ.

We run the model in R [@citeR] using the `rstanarm` package [@rstanarm]. The model uses default priors from `rstanarm`, and estimates the likelihood of Donald Trump winning each state based on polling averages for both candidates.

```{r}
#| echo: false
#| eval: true
#| warning: false
#| message: false

library(rstanarm)

logistic_model <-
  readRDS(file = here::here("models/first_model.rds"))
```

## Model Justification

We expect a positive relationship between polling support for each candidate and their probability of winning a state. As Donald Trump’s polling percentage ($\beta_i$) increases, the likelihood of him winning state $i$ rises. Similarly, as Kamala Harris's polling percentage ($\gamma_i$) increases, her chances of winning that state increase. 

Bayesian logistic regression was chosen for its ability to model binary outcomes like win/loss predictions while incorporating prior knowledge and uncertainty, helping mitigate overfitting through regularization with priors. This model strikes a balance between flexibility and interpretability, given that polling percentages are continuous and the outcome is binary. The model assumes polling data accurately reflects voter intentions and that state outcomes are independent of each other, although it does not account for interactions between states or regional voting trends. Potential biases in polling data could also affect predictions. The model was implemented using the rstanarm package in R, which supports Bayesian inference with default priors for logistic regression. 

# Results {#sec-results}
## Predicted Election Winner By State
@fig-statemap shows the predicted winner of the 2024 US Presidential Election by state on a map [@usmap], based on a logistic regression model using aggregated polling data for Donald Trump and Kamala Harris. States where Trump is predicted to win are shown in red, while states where Harris is predicted to win are displayed in blue. States in gray represent missing or incomplete polling data, where predictions were not possible. 
```{r}
#| label: fig-statemap
#| fig-cap: Predicted Winner of 2024 US Presidential Election by State
#| echo: false
#| warning: false
#| message: false
#| cache: false

#### Workspace setup ####
library(tidyverse)
library(usmap)
library(ggplot2)
library(rstanarm)

# Check for missing values in state_average and ensure data is clean
state_average <- state_average %>%
  filter(!is.na(Trump_pct) & !is.na(Harris_pct)) %>%
  ungroup()

# Proceed with prediction after ensuring the data is clean
predicted_prob <- predict(logistic_model, newdata = state_average, type = "response")

# Ensure predicted_prob matches the number of rows in state_average
if (length(predicted_prob) != nrow(state_average)) {
  stop("Mismatch between predicted_prob and state_average rows")
}

# Add predicted_prob to state_average
state_average <- state_average %>%
  mutate(predicted_prob = predicted_prob)

# Classify the predicted winner: Trump if probability > 0.5, else Harris
state_average <- state_average %>%
  mutate(predicted_winner = ifelse(predicted_prob > 0.5, "Trump", "Harris"))

# Map visualization showing predicted winner by state
plot_usmap(data = state_average, values = "predicted_winner", regions = "states") +
  scale_fill_manual(values = c("Trump" = "red", "Harris" = "blue"), name = "Predicted Winner") +
  theme(legend.position = "right")
```

According to the model, Trump is expected to win key states, including Florida, Missouri, and Montana, while Harris is forecasted to lead in Michigan, Virginia, and Pennsylvania.The results highlight the geographic divide between the two candidates. Trump is predicted to perform well in southern and midwestern states, where his polling averages are significantly higher. Harris, on the other hand, is projected to win in the Midwest and along the East Coast, with stronger polling percentages in traditionally Democratic-leaning regions.

## Summary of Predicted Election Results by State
@tbl-modelresults further breaks down the polling data by state, showing the average polling percentages for each candidate and the predicted win probability for Trump. For example, in Florida, Trump’s polling average is 53%, and his predicted win probability is almost certain at 99.93%. Conversely, in Michigan, Harris leads with an average of 46.27% of the vote, resulting in a 96.77% predicted probability that she will win the state.

In swing states like North Carolina and Nevada, where the polling percentages are closer, Trump is still predicted to win with probabilities of 94.36% and 51.23%, respectively. These battleground states show tighter polling averages and thus greater uncertainty in the predicted outcomes.
```{r}
#| echo: false
#| eval: true
#| label: tbl-modelresults
#| tbl-cap: "Predicted 2024 US Presidential Election outcomes by state, based on polling percentages for Trump and Harris"
#| warning: false


#### Create and Display the Summary Table ####
summary_table <- state_average %>%
  select(state, Trump_pct, Harris_pct, predicted_prob, predicted_winner) %>%
  rename(
    "State" = state,
    "Trump Polling (%)" = Trump_pct,
    "Harris Polling (%)" = Harris_pct,
    "Predicted Trump Win Probability" = predicted_prob,
    "Predicted Winner" = predicted_winner
  )

knitr::kable(summary_table, escape = TRUE)
```
The results of our predictive model suggest that Donald Trump is likely to win key states such as Florida, Missouri, and Montana, while Kamala Harris is expected to secure victories in states like Michigan, Virginia, and Pennsylvania. Close contests are predicted in battleground states like Nevada and North Carolina, where Trump holds a slight edge. 

# Discussion {#sec-discussion}

## Interpretation of Results {#sec-results-interpretation}

Placeholder - The results of our model reveal clear geographic divides in voter sentiment, with Donald Trump predicted to win in many southern and midwestern states, while Kamala Harris is expected to perform well in the Midwest and on the East Coast. The predictions align with historical voting patterns, with Trump’s strongest support coming from traditionally conservative regions and Harris garnering more support in Democratic-leaning areas. Notably, several battleground states, such as Nevada and North Carolina, show a close contest, reflecting the competitive nature of the 2024 election. These results suggest that the election may hinge on the outcomes in these key states, where even small shifts in polling percentages could influence the final result. The predicted probabilities in states like Michigan, Virginia, and Pennsylvania indicate a strong chance for Harris, while Trump's significant lead in states like Florida and Missouri solidifies his dominance in certain regions. Overall, the model provides valuable insights into the competitive landscape, highlighting the states that could be decisive in determining the election outcome.

## Model Performance {#sec-model-performance}

Placeholder - The logistic regression model used in this analysis successfully captures the relationship between polling percentages and the likelihood of a candidate winning a state. The coefficients for the predictor variables (polling percentages for Trump and Harris) indicate a strong relationship between candidate support and the probability of winning. The model outputs probabilities for each state, which are useful for gauging the certainty of predictions, especially in closely contested states. The model’s performance is reinforced by the robustness of the results in states where one candidate has a clear polling lead, providing accurate predictions. However, states with narrower margins reflect greater uncertainty, which is critical in understanding election dynamics. Convergence diagnostics and model checking were conducted to ensure reliable estimates, with further details and alternative models provided in [Appendix -@sec-model-details].

## Weaknesses and Next Steps

Placeholder - Despite the model's predictive power, there are several weaknesses that should be noted. First, polling data itself is prone to biases, such as underrepresentation of certain demographic groups or inaccuracies in sampling. These issues can distort the predictions, particularly in states with fewer or lower-quality polls. Additionally, voter turnout and last-minute shifts in public opinion are not accounted for, which can significantly alter the outcome, especially in close races. The model also assumes that polling percentages directly translate to votes, overlooking other factors like voter mobilization efforts and campaign dynamics that may influence election outcomes.

Placeholder - To improve the accuracy and reliability of election forecasts, future iterations of the model could incorporate additional variables beyond polling data. Factors such as voter turnout models, economic conditions, and social media sentiment analysis may provide a more holistic view of voter behavior. Additionally, real-time polling data integration could allow for dynamic updates to predictions as the election nears, improving the timeliness and accuracy of forecasts. Moreover, regional adjustments to account for differences in polling methodology or demographic shifts would help to address some of the biases inherent in polling data. Expanding the model to include these aspects would offer a more comprehensive understanding of the election landscape and enhance the precision of predictions.

\newpage

\appendix

# Appendix {-}

# Additional data details
It is important to note that several states remain uncolored (in gray), indicating missing or incomplete polling data for those states. These uncolored states reflect the absence of reliable or sufficient polling information required for an accurate prediction. This underscores the limitations of the data used in the model, where predictions are only made for states with adequate polling coverage. As a result, certain regions lack predictions, which could be addressed by including more comprehensive polling data in future analyses.


# Model details {#sec-model-details}

## Diagnostics
@tbl-modelsummary presents the results of the logistic regression model predicting the winner of the 2024 US Presidential Election in each state based on polling percentages for Donald Trump and Kamala Harris. The coefficients indicate that an increase in Trump’s polling percentage (\( \beta = 8.72 \)) is positively associated with the probability of winning a state, whereas an increase in Harris’s polling percentage (\( \beta = -31.63 \)) is negatively associated with Trump’s probability of winning. The standard errors for both predictors are quite large, suggesting high variability in the estimates and possible uncertainty in the model.

```{r}
#| echo: false
#| eval: true
#| label: tbl-modelsummary
#| tbl-cap: "Explanatory models of election outcome based on polling percentages for Trump and Harris"
#| warning: false


# Ensure the model exists
if (exists("logistic_model")) {
  # Create and display a model summary table in LaTeX format for PDF
  modelsummary::modelsummary(
    list("First Model" = logistic_model),
    statistic = c("std.error", "p.value"),  # Use standard error and p-value
    fmt = 2,  # Format numbers to 2 decimal places
    output = "latex"  # Use LaTeX for PDF output
  )
} else {
  print("Model not found")
}

```

The model diagnostics, including the AIC (6.0) and BIC (8.1), suggest that the model fits the data reasonably well given the small sample size of 15 observations. However, the low log-likelihood (0.000) and root mean squared error (RMSE = 0.00) indicate that the model may not be well-calibrated, likely due to the small dataset or the structure of the data. These results emphasize the importance of using a larger sample size.

\newpage


# References


